(()=>{(function(){"use strict";function n(){let t=document.getElementById("reading-progress");if(!t)return;let e=document.querySelector(".post"),o=document.querySelector(".page");if(!e&&!o){t.style.display="none";return}let s=!1;function i(){let c=window.innerHeight,a=document.documentElement.scrollHeight,l=window.pageYOffset||document.documentElement.scrollTop,d=a-c,u=d>0?l/d*100:0;t.style.width=Math.min(u,100)+"%",s=!1}function r(){s||(window.requestAnimationFrame(i),s=!0)}window.addEventListener("scroll",r,{passive:!0}),window.addEventListener("resize",r,{passive:!0}),i()}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",n):n()})();(function(){"use strict";function n(){let e=document.querySelector(".post-cover-img");e&&t(e),document.querySelectorAll(".book-cover-img").forEach(function(s){t(s)})}function t(e){function o(){e.classList.add("loaded")}e.complete&&e.naturalHeight!==0?(e.style.transition="none",o()):e.addEventListener("load",o)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",n):n()})();})();
