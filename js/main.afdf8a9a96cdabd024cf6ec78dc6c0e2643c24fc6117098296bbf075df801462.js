(()=>{(function(){"use strict";function r(){let t=document.getElementById("reading-progress");if(!t)return;let e=document.querySelector(".post"),i=document.querySelector(".page"),n=document.querySelector(".talk");if(!e&&!i&&!n){t.style.display="none";return}let d=!1;function c(){let s=window.innerHeight,l=document.documentElement.scrollHeight,a=window.pageYOffset||document.documentElement.scrollTop,u=l-s,f=u>0?a/u*100:0;t.style.width=Math.min(f,100)+"%",d=!1}function o(){d||(window.requestAnimationFrame(c),d=!0)}window.addEventListener("scroll",o,{passive:!0}),window.addEventListener("resize",o,{passive:!0}),c()}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",r):r()})();(function(){"use strict";function r(){let e=document.querySelector(".post-cover-img");e&&t(e),document.querySelectorAll(".book-cover-img").forEach(function(n){t(n)})}function t(e){function i(){e.classList.add("loaded")}e.complete&&e.naturalHeight!==0?(e.style.transition="none",i()):e.addEventListener("load",i)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",r):r()})();(function(){"use strict";function r(){let e=document.querySelector(".slide-viewer");if(!e)return;if(typeof Glide>"u"){console.warn("Glide.js is not loaded");return}let i=e.querySelector(".glide");if(!i)return;let n=new Glide(i,{type:"carousel",startAt:0,perView:1,gap:0,keyboard:!0,animationDuration:400,animationTimingFunc:"ease-in-out",swipeThreshold:80,dragThreshold:120});n.mount();let d=e.querySelector(".slide-viewer-arrow--left"),c=e.querySelector(".slide-viewer-arrow--right"),o=e.querySelectorAll(".slide-viewer-bullet");o.length>0&&o[0].classList.add("slide-viewer-bullet--active"),d&&d.addEventListener("click",function(){n.go("<")}),c&&c.addEventListener("click",function(){n.go(">")}),n.on(["mount.after","run"],function(){o.forEach(function(s,l){l===n.index?s.classList.add("slide-viewer-bullet--active"):s.classList.remove("slide-viewer-bullet--active")})}),o.forEach(function(s,l){s.addEventListener("click",function(){o.forEach(function(a){a.classList.remove("slide-viewer-bullet--active")}),s.classList.add("slide-viewer-bullet--active"),n.go("="+l)})})}function t(){typeof Glide<"u"?r():setTimeout(t,50)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",t):t()})();})();
